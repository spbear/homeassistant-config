- alias: Notify Entrance door's change
  trigger:
  - platform: state
    entity_id: binary_sensor.entrance_door
  condition: []
  action:
  - service: notify.me
    data_template:
      title: 'Notify'
      message: "
        {% if trigger.to_state.state == 'on' %}ğŸšªë¬¸ì´ ì—´ë ¸ìŠµë‹ˆë‹¤{% else %}ğŸšªë¬¸ì´ ë‹«í˜”ìŠµë‹ˆë‹¤{% endif %}\r
        {% if is_state('binary_sensor.passage_long_motion', 'on') %}ğŸƒ ë³µë„ì— ì›€ì§ì„ì´ ìˆì–´ìš”{% else %}ğŸ§ ë³µë„ì— ì›€ì§ì„ì´ ì—†ì–´ìš”{% endif %}"

- alias: Trigger Passage Long Motion ON
  trigger:
  - platform: state
    entity_id: binary_sensor.passage_motion
    to: 'off'
    for:
      minutes: 3
  condition: []
  action:
  - service: mqtt.publish
    data_template:
      topic: smartthings/Passage Long Motion/motion
      payload: 'inactive'

- alias: Trigger Passage Long Motion OFF
  trigger:
  - platform: state
    entity_id: binary_sensor.passage_motion
    to: 'on'
  condition: []
  action:
  - service: mqtt.publish
    data_template:
      topic: smartthings/Passage Long Motion/motion
      payload: 'active'
