- platform: yr
  name: Weather
  monitored_conditions:
    - symbol
    - temperature
    - humidity
    - fog

- platform: template
  sensors:
    room_temperature:
      friendly_name: Room Temperature
      unit_of_measurement: "°C"
      device_class: temperature
      value_template: "{{ '%.1f'|format(states.fan.mi_air_purifier.attributes.temperature) }}"

    room_humidity:
      friendly_name: Room Humidity
      unit_of_measurement: "%"
      device_class: humidity
      value_template: "{{ states.fan.mi_air_purifier.attributes.humidity }}"

    room_illuminance:
      friendly_name: Room Illuminance
      unit_of_measurement: "lux"
      device_class: illuminance
      value_template: "{{ '%.1f' | format((states.sensor.light_sensor.state | float)) }}"

    room_pm25:
      friendly_name: Room PM2.5
      unit_of_measurement: "㎍/m³"
      value_template: "{{ states.fan.mi_air_purifier.attributes.aqi | int }}"

    livingroom_temperature:
      friendly_name: Living Room Temperature
      unit_of_measurement: "°C"
      device_class: temperature
      value_template: "{{ '%.1f'|format(states.fan.mi_air_purifier_livingroom.attributes.temperature) }}"

    livingroom_humidity:
      friendly_name: Living Room Humidity
      unit_of_measurement: "%"
      device_class: humidity
      value_template: "{{ states.fan.mi_air_purifier_livingroom.attributes.humidity }}"

    livingroom_pm25:
      friendly_name: Living Room PM2.5
      unit_of_measurement: "㎍/m³"
      value_template: "{{ states.fan.mi_air_purifier_livingroom.attributes.aqi | int }}"


- platform: mqtt
  name: "Mi Scale"
  state_topic: "bt-gateway/miscale/weight/kg"
  value_template: "{{ '%.1f'|format(value | float) }}"
  unit_of_measurement: "kg"

- platform: mqtt
  name: "Light Sensor"
  state_topic: "smartthings/Light Sensor/illuminance"
  value_template: "{{ '%.1f'|format(value | float) }}"
  unit_of_measurement: "lux"

- platform: mqtt
  name: "Weather Sensor Temperature"
  state_topic: "smartthings/Weather Sensor/temperature"
  value_template: "{{ '%.1f'|format(value | float) }}"
  unit_of_measurement: "°C"

- platform: mqtt
  name: "Weather Sensor Humidity"
  state_topic: "smartthings/Weather Sensor/humidity"
  value_template: "{{ '%.1f'|format(value | float) }}"
  unit_of_measurement: "%"
